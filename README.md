# General Info
This is the replication package for the following paper:

**Title** Automated Testing of Transaction-Reverting Statements for Solidity Smart Contracts Using Interprocedural Analysis

**Abstract**. Transaction-reverting statements are key constructs within Solidity that are extensively used for authority and validity checks. Current state-of-the-art search-based testing and fuzzing approaches do not explicitly handle these statements and therefore can not effectively detect security vulnerabilities. In this paper, we argue that it is critical to directly handle and test these statements to assess that they correctly protect the contracts against invalid requests. To this aim, we propose a new approach that improves the search guidance for these transaction-reverting statements based on interprocedural control dependency analysis, in addition to the traditional coverage criteria. We assess the benefits of our approach by performing an empirical study on 100 smart contracts w.r.t. transaction-reverting statement coverage and vulnerability detection capability. Our results show that the proposed approach can improve the performance of both testing approaches in our study, namely DynaMOSA (the state-of-the-art algorithm for test case generation), and sFuzz (the state-of-the-art fuzzer for Solidity smart contracts). On average, we improve transaction-reverting statement coverage by 14 % (up to 35 %), line coverage by 8 % (up to 32 %), and vulnerability-detection capability by 17 % (up to 50 %).

# Content
This replication package contains the following files/directories:

1. `benchmark`. It contains the source code of the 100 smart contracts in our benchmark. These contracts are gathered from `etherscan.io` (https://etherscan.io/)
2. `test-suites`. It contains all test cases generated by the benchmark tool. These tests are written in **Truffle** (https://www.trufflesuite.com), which is a testing framework for Solidity smart contracts. These results are collected from two dedicated servers with identical hardware/software setting (i.e., Ubuntu system with two AMD EPYCTM 7452 using 120 cores running at 2.35 GHz). The tests have been generated using four configurations: 
	* DynaMOSA *with* our improved guidance.
	* DynaMOSA *without* our improved guidance.
	* sFuzz *with* our improved guidance.
	* sFuzz *without* our improved guidance.
To ease the analysis of the results for RQ1, we provide the csv files (`rq1-statistics-server-2.csv` and `rq1-statistics-server-1.csv`) with the overall coverage criteria (transaction-reverting statement coverage, line coverage, branch coverage) achieved by the generated tests.
3. `vulnerable-contracts`. It contains the vulnerable contracts used for the vulnerability detection analysis (RQ2)
4. `vulnerabilities-results`. It contains the results of our vulnerability detection analysis (RQ2), while the overall statistics are available in `rq2-statistics.csv`.

# Code
The experiment was performed using SynTest-Solidity (https://github.com/syntest-framework/syntest-solidity).
